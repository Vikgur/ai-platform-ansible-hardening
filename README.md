# Оглавление

- [AI Platform Ansible Hardening](#ai-platform-ansible-hardening)
  - [Ключевая идея](#ключевая-идея)
- [Цель репозитория в платформе Sovereign AI](#цель-репозитория-в-платформе-sovereign-ai)
- [Scope и границы ответственности](#scope-и-границы-ответственности)
- [Ключевые принципы безопасности](#ключевые-принципы-безопасности)
- [Архитектурное место в Sovereign AI](#архитектурное-место-в-sovereign-ai)
- [Состав репозитория](#состав-репозитория)
- [Потоки применения и инварианты](#потоки-применения-и-инварианты)
- [Compliance и стандарты](#compliance-и-стандарты)
- [Способы применения](#способы-применения)
- [Как читать документацию](#как-читать-документацию)
- [Навигация по репозиторию](#навигация-по-репозиторию)
- [Lifecycle overview](#lifecycle-overview)
- [Не-цели и анти-паттерны](#не-цели-и-анти-паттерны)

---

# AI Platform Ansible Hardening

Эталонная платформа Ansible-hardening для суверенных и регулируемых AI-инфраструктур.

Данный репозиторий представляет собой **reference-реализацию уровня Senior DevSecOps**, предназначенную для жёстко регулируемых, sovereign AI-сред, где безопасность, воспроизводимость и соответствие требованиям важнее скорости и удобства.

Проект фокусируется на **hardening-инфраструктуре**, а не на конфигурации ради конфигурации:  
– операционные системы  
– Kubernetes-ноды  
– GPU-узлы для AI-нагрузок  
– доступ, аудит, контроль изменений  
– соответствие стандартам (CIS, NIST, ISO)  

Ansible используется как **исполняемый контроль безопасности**, встроенный в жизненный цикл платформы и CI/CD, без ручных действий и snowflake-хостов.

## Ключевая идея

> Sovereign AI невозможен без управляемых хостов.  
> Hardening — это не настройка, а архитектурное свойство.

Этот репозиторий показывает, как выглядит **продовый hardening**, применимый в enterprise, государственном и defense-контексте.

---

# Цель репозитория в платформе Sovereign AI

Данный репозиторий существует как **базовый уровень доверия (trust foundation)** для всей платформы Sovereign AI.

Он решает ключевую проблему DevSecOps в AI-инфраструктурах:  
**невозможность считать Kubernetes, CI/CD и AI-пайплайны безопасными, если хосты и ноды не находятся под жёстким, воспроизводимым и проверяемым контролем**.

Репозиторий реализует:  
– системный hardening хостов и нод как код  
– устранение конфигурационного дрейфа  
– принудительное соблюдение security-baseline  
– встроенную проверяемость и аудит  

Ansible здесь используется не как «инструмент настройки», а как **исполняемый security-контроль**, встроенный в жизненный цикл инфраструктуры Sovereign AI.

---

# Scope и границы ответственности

В зоне ответственности данного репозитория:

– базовый hardening операционных систем  
– hardening Kubernetes-нод (control-plane и worker)  
– hardening container runtime  
– hardening GPU / AI-нод  
– контроль доступа (SSH, sudo, break-glass)  
– аудит, логирование, трассируемость изменений  
– соответствие CIS / NIST / ISO на уровне хостов  

Намеренно вынесено за пределы репозитория:

– provisioning инфраструктуры (Terraform)  
– сетевые и IAM-конструкции облака  
– Kubernetes-политики уровня кластера  
– runtime security и admission-контроли  
– CI/CD пайплайны и supply-chain security  

Это разделение устраняет пересечение ответственности и делает каждый слой платформы проверяемым независимо.

---

# Ключевые принципы безопасности

Платформа строится на следующих неизменных принципах:

– immutable-first: хосты считаются заменяемыми, а не «лечимыми»  
– policy-as-code: все требования выражены в коде и проверяемы  
– least privilege: минимально необходимые права по умолчанию  
– zero trust nodes: узел не считается доверенным по факту существования  
– auditability by default: каждое изменение оставляет след  

Hardening рассматривается как **архитектурное свойство системы**, а не как набор best practices.

---

# Архитектурное место в Sovereign AI

Репозиторий является частью нижнего security-слоя платформы Sovereign AI.

Связи с другими компонентами:

– ai-cloud-platform-terraform  
  Передаёт outputs (IP, роли узлов, метаданные), на основе которых применяется hardening.

– ai-kubernetes-security-platform  
  Предполагает, что ноды уже приведены к доверенному baseline и не содержит OS-hardening.

– ai-secure-ci-cd-platform  
  Использует этот репозиторий для автоматизированных проверок, dry-run и compliance-отчётов.

Таким образом, данный репозиторий замыкает **границу доверия между инфраструктурой и платформой**.

---

# Состав репозитория

Внутренняя структура отражает архитектурное разделение ответственности:

– inventories  
  Среды и роли узлов без логики hardening.

– playbooks  
  Явные сценарии применения: bootstrap, hardening, kubernetes, AI-nodes, break-glass.

– roles  
  Изолированные security-контроли, применимые независимо.

– policies  
  OPA/Rego-политики, запрещающие небезопасные конфигурации.

– ci  
  Проверки, линтинг, compliance-отчёты как часть DevSecOps.

– docs  
  Архитектура, threat-model, security-baseline и compliance-mapping.

---

# Потоки применения и инварианты

Все сценарии применения обладают следующими свойствами:

– идемпотентность  
– безопасный повторный запуск  
– отсутствие side-effects  

Поддерживаемые потоки:

– bootstrap нового узла  
  Минимальный доступ, подготовка к управляемому hardening.

– hardening существующего узла  
  Приведение к baseline без ручных изменений.

– Kubernetes control-plane и worker  
  Узлы приводятся к security-ожиданиям кластера.

– AI / GPU-ноды  
  Учитываются особенности драйверов и AI-нагрузок.

– break-glass сценарий  
  Контролируемый временный доступ с аудитом и отзывом.

---

# Compliance и стандарты

Соответствие стандартам рассматривается как первоклассная функция системы.

Поддерживаемые фреймворки:

– CIS Benchmarks  
– NIST 800-53 / 800-190  
– ISO 27001 / 27002  

Покрытие обеспечивается:

– автоматическими ролями hardening  
– проверяемыми policy-as-code правилами  
– генерируемыми compliance-отчётами  

Compliance здесь не декларативен, а **исполняем и проверяем**.

---

# Способы применения

Предпочтительный путь применения — через CI/CD.

Допустимые варианты:

– запуск из CI  
  Основной и рекомендуемый способ.

– запуск в связке с Terraform outputs  
  Для автоматического hardening после provisioning.

– локальный запуск  
  Допускается только для разработки и валидации.

Ручные ad-hoc запуски рассматриваются как исключение и требуют обоснования.

---

# Как читать документацию

Документация построена как сквозная security-цепочка:

1. `docs/architecture.md`  
2. `docs/threat-model.md`  
3. `docs/hardening-baseline.md`  
4. `docs/kubernetes-security.md`
5. `docs/ai-node-security.md`  
6. `docs/compliance-mapping.md`  
7. `docs/break-glass.md`  

Каждый документ ссылается на предыдущий и не существует изолированно.

---

# Навигация по репозиторию

Для навигации использовать `docs/repository-structure.md`

---

# Lifecycle overview

– инфраструктура создаётся Terraform  
– узлы проходят bootstrap  
– применяется hardening  
– состояние проверяется политиками  
– соответствие фиксируется отчётами  
– изменения проходят через CI  

Lifecycle намеренно прост и воспроизводим.

---

# Не-цели и анти-паттерны

Этот репозиторий сознательно не решает:

– ручное администрирование узлов  
– управление дрейфом как CMDB  
– точечные «фиксы» в обход CI  
– смешение provisioning и hardening  

Любая попытка использовать его как «набор ansible-скриптов» считается архитектурной ошибкой.
